<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Order Success</title>
<link rel="stylesheet" href="../css/LandingPage.css">
<link rel="stylesheet" href="../css/Checkout.css?v=7">
</head>
<body>
<nav id="navbar">
  <div class="nav-container">
    <div class="nav-left">
      <div class="logo">🏔️ TrailBlazer</div>
      <ul class="nav-links">
        <li><a href="landingPage.html">Home</a></li>
        <li><a href="ProductCatalogue.html">Gear</a></li>
        <li><a href="TrailsPage.html">Trails</a></li>
        <li><a href="GroupHikes.html">Community</a></li>
        <li><a href="AboutUsPage.html">About Us</a></li>
      </ul>
    </div>
    <div class="nav-actions">
      <div class="search-container">
        <input type="text" class="search-input" placeholder="Search gear, trails...">
        <button class="search-btn">🔍</button>
      </div>
      <div class="account-section">
        <a href="AdminPanel.html" class="account-btn" title="Admin Panel">⚙️Admin</a>
        <a href="LoginPage.html" class="account-btn">👤 Logout</a>
        <a href="Cart.html" class="cart-icon" aria-label="Cart">🛒 <span class="cart-count" id="cart-count" data-cart-count>0</span></a>
      </div>
    </div>
  </div>
</nav>

<canvas id="confetti" class="confetti"></canvas>

<div class="container">
  <div class="success-hero">
    <span class="badge">Order placed</span>
    <h1>Thank you!</h1>
    <div id="success-total" class="kicker"></div>
    <div id="order-id" class="kicker"></div>
    <div class="row" style="gap:10px;margin-top:6px;justify-content:center">
      <a class="btn" href="./ProductCatalogue.html">Continue shopping</a>
      <a class="btn secondary" href="./GroupHikes.html">Find a group hike</a>
    </div>
  </div>

  <div class="grid" style="margin-top:10px">
    <div class="card"><h3>Items</h3><div id="success-items"></div></div>
    <div class="card summary"><h3>Summary</h3><div id="success-summary"></div></div>
  </div>
</div>

<script src="../js/Cart.js"></script>
<script src="../js/OrderSuccess.js"></script>
<script>
(function(){
  var c=document.getElementById('confetti'); if(!c) return;
  var ctx=c.getContext('2d');
  function resize(){c.width=window.innerWidth;c.height=window.innerHeight}
  resize(); window.addEventListener('resize',resize);
  var colors=['#e67e22','#27ae60','#3498db','#f1c40f','#9b59b6','#e74c3c'];
  var pieces=Array.from({length:150},function(){return{
    x:Math.random()*c.width,
    y:-20-Math.random()*c.height,
    w:6+Math.random()*6,h:10+Math.random()*10,
    vy:2+Math.random()*3,vx:-2+Math.random()*4,
    rot:Math.random()*Math.PI*2,vr:-0.1+Math.random()*0.2,
    color:colors[(Math.random()*colors.length)|0]
  }});
  var start=Date.now(),duration=2500;
  function tick(){
    ctx.clearRect(0,0,c.width,c.height);
    for(var i=0;i<pieces.length;i++){
      var p=pieces[i];
      p.x+=p.vx; p.y+=p.vy; p.rot+=p.vr;
      if(p.y>c.height+20){p.y=-20;p.x=Math.random()*c.width}
      ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rot); ctx.fillStyle=p.color; ctx.fillRect(-p.w/2,-p.h/2,p.w,p.h); ctx.restore();
    }
    if(Date.now()-start<duration) requestAnimationFrame(tick); else ctx.clearRect(0,0,c.width,c.height);
  }
  requestAnimationFrame(tick);
})();
</script>
</body>
</html>
